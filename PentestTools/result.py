import json

class TestResult:
    def __init__(self, target, status, details=None):
        self.target = target
        self.status = status
        self.details = details or {}

    def to_dict(self):
        return {
            "target": self.target,
            "status": self.status,
            "details": self.details
        }

def output_console(results):
    for result in results:
        print(f"Target: {result.target}, Status: {result.status}, Details: {result.details}")

def output_csv(results):
    print("Exporting to CSV format...")
    print("target,status,details")
    for result in results:
        details = json.dumps(result.details)
        print(f"{result.target},{result.status},{details}")

def output_json(results):
    print("Exporting to JSON format...")
    json_results = [result.to_dict() for result in results]
    print(json.dumps(json_results, indent=2))

def output_xml(results):
    print("Exporting to XML format...")
    for result in results:
        details = "".join([f"<{key}>{value}</key>" for key, value in result.details.items()])
        print(f"<result><target>{result.target}</target><status>{result.status}</status><details>{details}</details></result>")